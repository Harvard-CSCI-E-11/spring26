{% extends "base.html" %}

{% block content %}
<!-- index start -->
<!-- container for the pop-up -->
<div id="image-popup"
     style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
         background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:1000;">
    <img id="popup-img" src="" alt="Full-Size Image" style="max-width:90%; max-height:90%; border:5px solid white;">
</div>

<!-- body -->
<h1> {% block title %} Message Board{% endblock %} </h1>


<!-- Show the uploaded images here -->
<div id='upload-preview'>
  <div id='message-container'>
    <div id='message-table'>
    </div>
  </div>
</div>

<h1>Upload a new message</h1>
<div id='message-form'>

  <p>This form is for testing the upload API. Enter the API_KEY and the API_SECRET_KEY and a message.</p>
  <!-- Note: we have the output of the form submission go to the hidden i-frame to avoid form submission with JavaScript -->
  <form class='pure-form pure-form-aligned' action="api/post-message" method="POST" onsubmit="show_messages(); return true;" target="hidden-iframe">
    <fieldset>
      <div class='pure-control-group'>
        <label for='api-key'>API_KEY:</label>
        <input type='text' id='api-key' name='api_key' class='uploadf' />
        <span class="pure-form-message-inline">required</span>
      </div>
      <div class='pure-control-group'>
        <label for='api-secret-key'>API_SECRET_KEY:</label>
        <input type='text' id='api-secret-key' name='api_secret_key' class='uploadf'/>
        <span class="pure-form-message-inline">required</span>
      </div>
      <div class='pure-control-group'>
        <label for='message'>MESSAGE:</label>
        <input type='text' id='message' name='message' class='uploadf'/>
        <span class="pure-form-message-inline">required</span>
      </div>
      <div class='pure-control-group' id='submit-group'>
        <label for='submit-button'>Click to post:</label>
        <input id='submit-button' type='submit' value='POST' class='uploadf' />
      </div>
    </fieldset>
  </form>
  <iframe name="hidden-iframe" style="display: none;"></iframe>
  <div id='status-message'></div>
</div>


<!-- If we are in lab5 or lab7, bring in the image interaction -->
{% if lab_number == "5" or lab_number == "7"%}
<div id='lab5'></div>
<script src="static/imageboard.js"></script>
{% endif %}


<!-- bring in the messageboard -->

<script src="static/messageboard.js"> </script>
<script src="static/startup.js"></script>

{% endblock %}
<!-- index end -->
