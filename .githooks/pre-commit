#!/bin/sh
set -e

# Only touch files that are staged for commit
files="$(git diff --cached --name-only --diff-filter=ACMR)"
[ -z "$files" ] && exit 0

# Run your fixer (adjust path + interpreter)
etc/fix_trailing_whitespace.py $files

# Re-stage in case the fixer modified them
git add $files
